<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>2.4.1 Principios de la sincronización</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- Bootstrap CSS-->
    <!-- Local CSS-->
    <link href="../css/header.css" rel="stylesheet" />
    <link href="../css/navbar.css" rel="stylesheet" />
    <link href="../css/card.css" rel="stylesheet" />
    <link href="../css/offcanvas.css" rel="stylesheet" />
    <link href="../css/pagination.css" rel="stylesheet" />
    <link href="../css/footer.css" rel="stylesheet" />


    <!-- Local CSS-->
    <!-- Local JS-->
    <script src="../js/headerPagesLoader.js"></script>
    <script src="../js/navbarContentLoader.js"></script>
    <script src="../js/offcanvasLoader.js"></script>
    <script src="../js/footerPagesLoader.js"></script>
    <!-- Local JS-->
</head>

<body>

    <div id="offcanvas-container">

    </div>


    <!-- Header -->
    <div id="header-container"></div>
    <!-- Header -->

    <!-- Navbar -->
    <div id="navbar-container"></div>
    <!-- Navbar -->

    <!-- Page content -->

    <main>
        <section>
            <div class="card">
                <h5 class="card-header">2.4.1 Principios de la sincronización: condición de carrera, sección crítica,
                    exclusión mutua, atomicidad, abrazo mortal</h5>
                <div class="card-body">

                    <p class="card-text">
                        <b>Condición de carrera</b>
                    </p>

                    <p class="card-text">
                        Ocurre cuando dos o más procesos que están trabajando juntos comparten algún dato modificable
                        (por ejemplo, una posición de memoria de lectura/escritura) que cada proceso puede leer o
                        escribir y el resultado final depende del orden de ejecución. (Nota: Este problema no sucede en
                        la monoprogramación).
                    </p>

                    <br>

                    <p class="card-text">
                        La condición de carrera se produce cuando:
                    </p>

                    <ol class="card-text">
                        <li>
                            <b><i>Acceso concurrente</i></b>: Dos o más procesos o hilos intentan acceder simultáneamente a un
                            recurso compartido.
                        </li>
                        <li>
                            <b><i>Al menos una operación de escritura</i></b>: Al menos uno de los procesos realiza una
                            operación de escritura (modificación) en el recurso compartido.
                        </li>
                        <li>
                            <b><i>No hay sincronización</i></b>: No se han implementado mecanismos de sincronización adecuados
                            para controlar el acceso concurrente al recurso compartido.
                        </li>
                    </ol>

                    <br>


                    <p class="card-text">
                        Como resultado de la condición de carrera, el contenido del recurso compartido puede quedar en
                        un estado inconsistente o incorrecto, ya que las operaciones de lectura y escritura pueden
                        intercalarse de maneras no predecibles.
                    </p>

                    <br>

                    <p class="card-text">
                        Para evitar condiciones de carrera, es necesario utilizar mecanismos de sincronización, como
                        mutexes, semáforos o variables de condición, que permitan a los procesos o hilos coordinar su
                        ejecución de manera que se evite el acceso simultáneo a los recursos compartidos. Estos
                        mecanismos ayudan a garantizar la consistencia de los datos y a prevenir resultados inesperados
                        en entornos concurrentes.
                    </p>

                    <p class="text-center">
                        <a href="https://www.freepik.com/icon/forward_12000939#fromView=image_search&page=1&position=0&uuid=0d9584fb-fd29-4d89-8898-01b146d3c698" target="blank"><img src="../images/figura_15.png" alt="Error al cargar imagen figura_15.png" style="width: 15%;"></a>
                      </p>
            
                      <p class="text-center">
                        <b>Figura 15. Ejecución en la computadora.</b>
                      </p>

                    <br>

                    <p class="card-text">
                        <b>Exclusión mutua</b>
                    </p>

                    <p class="card-text">
                        Los procesos compiten por el uso de unos recursos limitados. Esos recursos pueden ser:
                    </p>

                    <br>

                    <ol class="card-text">
                        <li>
                            <b><i>Compartibles</i></b>: Pueden ser empleados por varios
                            procesos de forma concurrente. Ejemplos: CPU, archivos de lectura, áreas de memoria no
                            modificables.
                        </li>
                        <li>
                            <b><i>No compartibles</i></b>: Su uso se restringe a un único proceso por:
                            <ul class="card-text">
                                <li>
                                    <b>La naturaleza física del recurso</b>: Ejemplos: Unidad de cinta magnética,
                                    lectora de tarjetas,
                                    impresora.
                                </li>
                                <li>
                                    <b>Si el recurso lo usan otros procesos de forma concurrente, la acción de uno de
                                        ellos puede interferir
                                        en la de otro:</b> Ejemplos: Archivo de escritura, posición de memoria.
                                </li>
                            </ul>
                        </li>
                    </ol>

                    <br>

                    <p class="card-text">
                        La <b>exclusión mutua</b> consiste en asegurar que los recursos no compartibles sean accedidos
                        por un único proceso a la vez.
                    </p>

                    <br>

                    <p class="card-text">
                        Para evitar las condiciones de carrera necesitamos exclusión mutua, es decir, si un proceso está
                        usando una variable o archivo compartido, el otro proceso será excluido de hacer lo mismo.
                    </p>

                    <p class="text-center">
                        <a href="https://www.freepik.com/icon/iteration_3316403#fromView=image_search&page=1&position=0&uuid=8581543e-f2e7-4917-bf60-eef51a0087de" target="blank"><img src="../images/figura_16.png" alt="Error al cargar imagen figura_16.png" style="width: 15%;"></a>
                      </p>
            
                      <p class="text-center">
                        <b>Figura 16. Secuencia de un proceso.</b>
                      </p>

                    <br>

                    <p class="card-text">
                        <b>Secciones críticas y secciones críticas condicionales</b>
                    </p>

                    <p class="card-text">
                        Las <b>secciones críticas</b> o regiones críticas son fragmentos de programa que acceden a
                        recursos no compartibles. Si dos procesos no están nunca en sus secciones críticas al mismo
                        tiempo, se evitan las condiciones de carrera (esto no impide tener procesos paralelos que
                        cooperen correctamente y eficientemente usando datos compartidos).
                    </p>

                    <br>

                    <p class="card-text">
                        Las regiones críticas condicionales permiten que los procesos ejecuten sus secciones críticas
                        sólo cuando se cumpla
                        una determinada condición.
                    </p>

                    <br>

                    <p class="card-text">
                        Cuando a un proceso no se le satisface la condición, se quedará suspendido en una cola especial
                        en espera del
                        cumplimiento de la condición. Así se consigue que, aunque un proceso espere en una condición, no
                        evite que otros
                        utilicen el recurso. Con ello conseguimos la sincronización además de la exclusión mutua a la
                        sección crítica.
                    </p>


                    <br>


                    <p class="card-text">
                        Condiciones que se requieren para evitar las condiciones de carrera:
                    </p>

                    <ul class="card-text">
                        <li>Dos procesos no pueden estar simultáneamente dentro de sus secciones críticas.</li>
                        <li>No se hacen suposiciones sobre las velocidades de los procesos o el número de CPUs.</li>
                        <li>Ningún proceso que se pare fuera de su sección crítica bloqueará a otros procesos.</li>
                        <li>Ningún proceso esperará mucho tiempo para entrar en su sección crítica. Por ello, las
                            secciones críticas deben
                            ejecutarse tan rápido como sea posible. Además, un proceso no debe bloquearse dentro de su
                            propia sección
                            crítica (interbloqueo).</li>
                    </ul>

                    <p class="text-center">
                        <a href="https://www.freepik.com/icon/cpu_900618#fromView=image_search&page=1&position=0&uuid=91c7ca9a-7c5f-49df-bfdd-70e1f7cd6325" target="blank"><img src="../images/figura_17.png" alt="Error al cargar imagen figura_17.png" style="width: 15%;"></a>
                      </p>
            
                      <p class="text-center">
                        <b>Figura 17. Procesador.</b>
                      </p>

                    <br>

                    <p class="card-text">
                        <b>Atomicidad</b>
                    </p>

                    <p class="card-text">
                        Es uno de los conceptos fundamentales en la programación concurrente y en sistemas de bases de
                        datos. Asegura que
                        ciertas operaciones se realicen como una unidad atómica e indivisible, evitando condiciones de
                        carrera y
                        garantizando la consistencia de los datos en entornos donde múltiples procesos o hilos pueden
                        acceder y modificar
                        datos compartidos simultáneamente.
                    </p>

                    

                    <br>


                    <p class="card-text">
                        Algunos puntos clave sobre la atomicidad:
                    </p>


                    <ul class="card-text">
                        <li><b><i>Operaciones atómicas</i>:</b> Una operación atómica es aquella que se ejecuta de manera
                            completa e indivisible.
                            Ya sea que consista en una única instrucción o en un conjunto de instrucciones, una
                            operación atómica se
                            considera como si se ejecutara en un solo paso. Si se interrumpe una operación atómica, no
                            dejará el sistema en
                            un estado inconsistente.</li>
                        <li><b><i>Evitar condiciones de carrera</i>:</b> La atomicidad es crucial para evitar condiciones de
                            carrera, que ocurren
                            cuando dos o más procesos intentan modificar un recurso compartido al mismo tiempo,
                            resultando en
                            comportamientos no deseados o inconsistentes.</li>
                        <li><b><i>Mecanismos de sincronización</i>:</b> Los mecanismos de sincronización, como los mutexes, son
                            utilizados para
                            lograr la atomicidad. Al bloquear el acceso al recurso compartido mientras una operación se
                            está realizando, se
                            asegura que ningún otro proceso pueda interferir hasta que la operación se complete.</li>
                        <li><b><i>Transacciones en bases de datos</i>:</b> En el contexto de las bases de datos, la atomicidad
                            se refiere a las
                            transacciones atómicas. Una transacción es un conjunto de operaciones que deben ejecutarse
                            en su totalidad o no
                            ejecutarse en absoluto. Si alguna parte de la transacción falla, se revierten todas las
                            operaciones a un estado
                            consistente, manteniendo la integridad de la base de datos.</li>
                        <li><b><i>Rollback y Commit</i>:</b> Las transacciones en bases de datos suelen incluir dos conceptos
                            relacionados: el
                            <i>commit</i> (confirmación) y el <i>rollback</i> (reversión). El <i>commit</i> confirma que todas las
                            operaciones de la
                            transacción se han realizado con éxito, mientras que el <i>rollback</i> deshace todas las
                            operaciones en caso de un
                            fallo.</li>
                    </ul>

                    <p class="text-center">
                        <a href="https://www.freepik.com/icon/archive_9889035#fromView=image_search&page=1&position=0&uuid=6ea43cd4-7a35-4b35-b01d-ad1b4be69df8" target="blank"><img src="../images/figura_18.png" alt="Error al cargar imagen figura_18.png"
                                style="width: 15%;"></a>
                    </p>
                    
                    <p class="text-center">
                        <b>Figura 18. Archivos almacenados.</b>
                    </p>

                    <br>

                    <p class="card-text">
                        <b>Abrazo mortal</b>
                    </p>

                    <p class="card-text">
                        El "abrazo mortal" o <i>deadlock</i> es una situación problemática en sistemas concurrentes donde dos o
                        más procesos o hilos quedan atrapados indefinidamente porque cada uno está esperando que el otro
                        libere un recurso necesario para avanzar. En otras palabras, hay un bloqueo circular de
                        dependencias entre los procesos, y ninguno puede continuar su ejecución.
                    </p>

                    <br>

                    <p class="card-text">
                        Características clave del <i>deadlock</i>:
                    </p>

                    <ol class="card-text">
                        <li><b>Bloqueo Mutuo:</b> Cada proceso tiene un recurso que necesita para continuar y posee un
                            recurso que el otro
                            proceso necesita. Ambos procesos se bloquean mutuamente al retener los recursos necesarios
                            para el otro.</li>
                        <li><b>Espera Circular:</b> Existe un ciclo en el que cada proceso está esperando que el
                            siguiente libere un
                            recurso. Esta cadena de espera circular es esencial para la existencia del <i>deadlock</i>.</li>
                        <li><b>Recursos No Liberados:</b> Los recursos que los procesos han adquirido no se liberan
                            adecuadamente. Esto
                            puede deberse a errores en el código, falta de sincronización o problemas de planificación.
                        </li>
                    </ol>

                    <br>

                    <p class="card-text">
                        Para evitar <i>deadlocks</i> y mitigar sus efectos, se implementan diversas estrategias:
                    </p>

                    <ol class="card-text">
                        <li><b><i>Asignación ordenada de recursos</i>:</b> Asignar recursos a los procesos de una manera
                            ordenada y garantizar que
                            todos los procesos sigan el mismo orden al adquirir recursos ayuda a prevenir <i>deadlocks</i>.
                        </li>
                        <li><b>iDetección y recuperación:</b> Los sistemas operativos pueden implementar algoritmos de
                            detección de <i>deadlock</i>
                            para identificar si un <i>deadlock</i> ha ocurrido. Luego, se pueden tomar medidas, como liberar
                            recursos o terminar
                            procesos, para recuperarse de la situación.</li>
                        <li><b><i>Jerarquía de recursos</i>:</b> Establecer una jerarquía de recursos y requerir que los
                            procesos adquieran
                            recursos en un orden específico puede prevenir <i>deadlocks</i>.</li>
                        <li><b><i>Timeouts y liberación forzada</i>:</b> Si un proceso detecta que ha estado esperando
                            demasiado tiempo por un
                            recurso, puede liberar los recursos adquiridos y volver a intentar adquirirlos más tarde.
                            Esto evita la
                            permanencia indefinida en un <i>deadlock</i>.</li>
                        <li><b><i>Exclusión mútua</i>:</b> Limitar el acceso a recursos críticos mediante el uso de mutexes o
                            semáforos puede
                            prevenir situaciones de <i>deadlock</i>, pero también puede reducir la concurrencia.</li>
                    </ol>


                    <p class="text-center">
                        <a href="https://www.freepik.com/icon/organization-structure_7106719#fromView=image_search&page=1&position=0&uuid=b63a2d57-3c0e-4b10-bdf5-94d4b59e0f8a" target="blank"><img src="../images/figura_19.png" alt="Error al cargar imagen figura_19.png"
                                style="width: 15%;"></a>
                    </p>
                    
                    <p class="text-center">
                        <b>Figura 19. Jerarquía.</b>
                    </p>

                             
          <p class="card-text">
            Reflexiona la siguiente
            pregunta que será
            tratada en la sesión de clase.
          </p>

          <p class="card-text">
            ¿Cual ejemplo es implementado en aplicaciones de uso cotidiano que eviten las condiciones de carrera, 
            abrazo mortal y exclusión mutua?
          </p>




                    <ul class="pagination justify-content-end">
                        <li class="page-item">
                            <a class="page-link" href="2-3-comunicacion-entre-procesos.html">Anterior</a>
                        </li>
                        <li class="page-item"><a class="page-link"
                                href="2-4-sincronizacion-entre-procesos-hilos.html">1</a></li>
                        <li class="page-item active"><a class="page-link"
                                href="2-4-1-principios-de-la-sincronizacion.html">2</a></li>
                        <li class="page-item"><a class="page-link" href="2-4-2-semaforos-y-mutex.html">3</a></li>
                        <li class="page-item"><a class="page-link" href="2-4-3-monitores.html">4</a></li>
                        <li class="page-item"><a class="page-link" href="actividad-4.html">5</a></li>
                        <li class="page-item">
                            <a class="page-link" href="2-5-planificacion.html">Siguiente Tema</a>
                        </li>
                    </ul>

                </div>
            </div>

        </section>
    </main>

    <!-- Page content -->

    <!-- Footer -->
    <div id="footer-container"></div>
    <!-- Footer -->

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <!-- Core theme JS-->
</body>

</html>